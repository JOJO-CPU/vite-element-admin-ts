import{p as z}from"./index.75d8051c.js";import{g as M}from"./article.386f810b.js";import{L as N}from"./index.b1f6f74a.js";import{_ as S,d as O,r as D,k as P,i as s,K as Q,m as _,w as t,a as k,o as a,e as r,f as l,L as R,t as c,c as p,Q as L,P as g,v as o,V as $}from"./index.a821c646.js";const K={class:"section-container"},j=o("Element Plus Table"),q=o(" cancel "),G={key:1},H=o("Ok"),J=o("Edit"),W=o("Vxe Table"),X=o(" cancel "),Y={key:1},Z=o("Ok"),ee=o("Edit"),te={name:"EditTable"},le=O({...te,setup(ae){const v=D([]),f=D(!0),A=P({page:1,limit:10}),y=n=>({published:"success",draft:"info",deleted:"danger"})[n],F=async()=>{f.value=!0;const{data:n}=await M(A),b=n.items;v.value=b.map(m=>({...m,edit:!1,originalTitle:m.title})),f.value=!1},x=n=>{n.title=n.originalTitle,n.edit=!1,$({message:"The title has been restored to the original value",type:"warning"})},C=n=>{n.edit=!1,n.originalTitle=n.title,$({message:"The title has been edited",type:"success"})};return F(),(n,b)=>{const m=s("el-divider"),d=s("el-table-column"),T=s("svg-icon"),V=s("el-tag"),E=s("el-input"),w=s("el-button"),h=s("vxe-button"),I=s("el-table"),u=s("vxe-column"),B=s("vxe-table"),U=Q("loading");return a(),_(k(N),{title:"\u53EF\u7F16\u8F91\u8868\u683C"},{body:t(()=>[r("div",K,[l(m,{"content-position":"left"},{default:t(()=>[j]),_:1}),R((a(),_(I,{data:v.value,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:t(()=>[l(d,{align:"center",label:"ID",width:"65"},{default:t(({row:e})=>[r("span",null,c(e.id),1)]),_:1}),l(d,{width:"180px",align:"center",label:"Date"},{default:t(({row:e})=>[r("span",null,c(k(z)(e.timestamp,"{y}-{m}-{d} {h}:{i}")),1)]),_:1}),l(d,{width:"110px",align:"center",label:"Author"},{default:t(({row:e})=>[r("span",null,c(e.author),1)]),_:1}),l(d,{width:"100px",label:"Importance"},{default:t(({row:e})=>[(a(!0),p(g,null,L(e.importance,i=>(a(),_(T,{key:i,"icon-class":"star",class:"icon-star"}))),128))]),_:1}),l(d,{align:"center",label:"Readings",width:"95"},{default:t(({row:e})=>[r("span",null,c(e.pageviews),1)]),_:1}),l(d,{"class-name":"status-col",label:"Status",width:"110"},{default:t(({row:e})=>[l(V,{type:y(e.status)},{default:t(()=>[o(c(e.status),1)]),_:2},1032,["type"])]),_:1}),l(d,{"min-width":"300px",label:"Title"},{default:t(({row:e})=>[e.edit?(a(),p(g,{key:0},[l(E,{modelValue:e.title,"onUpdate:modelValue":i=>e.title=i,class:"edit-input",size:"small"},null,8,["modelValue","onUpdate:modelValue"]),l(w,{class:"cancel-btn",size:"small",type:"warning",onClick:i=>x(e)},{default:t(()=>[q]),_:2},1032,["onClick"])],64)):(a(),p("span",G,c(e.title),1))]),_:1}),l(d,{align:"center",label:"Actions",width:"120"},{default:t(({row:e})=>[e.edit?(a(),_(h,{key:0,size:"mini",status:"success",icon:"el-icon-circle-check-outline",onClick:i=>C(e)},{default:t(()=>[H]),_:2},1032,["onClick"])):(a(),_(h,{key:1,size:"mini",status:"primary",icon:"el-icon-circle-check-outline",onClick:i=>e.edit=!e.edit},{default:t(()=>[J]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])),[[U,f.value]]),l(m,{"content-position":"left"},{default:t(()=>[W]),_:1}),l(B,{round:"",border:"",data:v.value,loading:f.value,style:{width:"100%"}},{default:t(()=>[l(u,{align:"center",field:"id",title:"ID",width:"65"}),l(u,{align:"center",field:"timestamp",title:"Date",width:"180px"},{default:t(({row:e})=>[r("span",null,c(k(z)(e.timestamp,"{y}-{m}-{d} {h}:{i}")),1)]),_:1}),l(u,{align:"center",field:"author",title:"Author",width:"110px"}),l(u,{width:"100px",title:"Importance"},{default:t(({row:e})=>[(a(!0),p(g,null,L(e.importance,i=>(a(),_(T,{key:i,"icon-class":"star",class:"icon-star"}))),128))]),_:1}),l(u,{align:"center",title:"Readings",width:"95"},{default:t(({row:e})=>[r("span",null,c(e.pageviews),1)]),_:1}),l(u,{"class-name":"status-col",label:"Status",width:"110"},{default:t(({row:e})=>[l(V,{type:y(e.status)},{default:t(()=>[o(c(e.status),1)]),_:2},1032,["type"])]),_:1}),l(u,{"min-width":"300px",title:"Title"},{default:t(({row:e})=>[e.edit?(a(),p(g,{key:0},[l(E,{modelValue:e.title,"onUpdate:modelValue":i=>e.title=i,class:"edit-input",size:"small"},null,8,["modelValue","onUpdate:modelValue"]),l(w,{class:"cancel-btn",size:"small",type:"warning",onClick:i=>x(e)},{default:t(()=>[X]),_:2},1032,["onClick"])],64)):(a(),p("span",Y,c(e.title),1))]),_:1}),l(u,{align:"center",title:"Actions",width:"120"},{default:t(({row:e})=>[e.edit?(a(),_(h,{key:0,size:"mini",status:"success",icon:"el-icon-circle-check-outline",onClick:i=>C(e)},{default:t(()=>[Z]),_:2},1032,["onClick"])):(a(),_(h,{key:1,size:"mini",status:"primary",icon:"el-icon-circle-check-outline",onClick:i=>e.edit=!e.edit},{default:t(()=>[ee]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data","loading"])])]),_:1})}}});var oe=S(le,[["__scopeId","data-v-7ce16433"]]);export{oe as default};
